[[_role_scope_mappings]]

=== Role Scope Mappings

On creation of an OIDC access token or SAML assertion, the user role mappings become claims within the token or assertion.  Applications use these claims to make access decisions on the resources controlled by the application.  {project_name}, digitally signs access tokens and applications re-use them to invoke remotely secured REST services.  There is a danger that an attacker can obtain these tokens and use their permissions to compromise your networks. _Role Scope Mappings_ are available to prevent this.

_Role Scope Mappings_ limit the roles declared inside an access token.  When a client requests a user authentication, the access token they receive will contain only the role mappings that are explicitly specified for the client's scope.  This allows you to limit the permissions of each individual access token instead of giving the client access to all the users permissions.  

By default, each client gets all the role mappings of the user. You can view this in the `Scope` tab of each client.

.Full Scope
image:{project_images}/full-client-scope.png[]

By default, the effective roles of scopes are every declared role in the realm. To change this default behavior, you must explicitly set the `Full Scope Allowed` switch to ON and declare the specific roles you want in each individual client.  You can also use <<_client_scopes, client scopes>> to define the same role scope mappings for a set of clients.

.Partial Scope
image:{project_images}/client-scope.png[]
